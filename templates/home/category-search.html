{% extends 'base/index.html' %}
{% load static %}

    {% block page-title %}مَسای شاپ{% endblock %}

{% block main %}

        <main class="search-page default space-top-30">
            <div class="container">
                <div class="row">
                    <div class="col-12 hidden-xs">
                        <div class="brand-slider card border_all ">
                            <header class="card-header">
                                <h3 class="card-title"><span>دسته بندی ها</span></h3>
                            </header>
                            <div class="row">
                                <div class="col-12">
                                    <style>
                                        .category-title {
                                            display: block;
                                            text-align: center; 
                                        }
                                    </style>
                                    <div class="container-fluid">
                                        <div class="row">
                                            {% for category, sub_category in all_categories.items %}
                                                <!-- هر دسته‌بندی را در یک ستون قرار دهید که 2 از 12 ستون را اشغال کند -->
                                                <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12 mb-4">
                                                    <a href="#" target="_blank">
                                                        <img class="img-responsive imgpad" src="{{category.image.url}}" alt="{{ category.title }}" />
                                                        <!-- اضافه کردن کلاس جدید برای عنوان -->
                                                        <b class="title-3 light-black category-title">{{ category.title }}</b>
                                                    </a>
                                                </div>
                                                {% if forloop.counter|divisibleby:6 and not forloop.last %}
                                                    <!-- پایان یک ردیف و شروع یک ردیف جدید پس از هر 6 دسته‌بندی -->
                                                    </div><div class="row">
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <aside class="sidebar-page col-12 col-sm-12 col-md-4 col-lg-3 ">
                        
                        
                    
                    
                    
                    
                        
                    <form action="" >
                        
                            
                    
                        <div class="box">
                            <header class="card-header">
                                <h3 class="card-title"><span class="space-right-10">ترتیب </span></h3>
                            </header>
                            <div class="box-content">
                                <div class="collapse show">
                                    
                                    <div class="form-account-agree">
                                        <label for="options">مرتب کردن بر اساس :</label>
                                        <select id="options" name="order-by">
                                            <option value="">-----</option>
                                            <option value="most-rate">بیشترین امتیاز</option>
                                            <option value="most-sold">بیشترین فروش</option>
                                        </select>
                                    </div>

                                    </div>
                                </div>
                        </div>

                    
                    
                            
                        <div class="box">
                            <header class="card-header">
                                <h3 class="card-title"><span class="space-right-10">رنگ</span></h3>
                            </header>
                            <div class="box-content">
                                <div class="collapse show">
                                    
                                    <div class="form-account-agree">
                                        <label class="checkbox-form checkbox-primary">
                                            <input type="checkbox" id="agree" name="color" value="مشکی">
                                            <span class="checkbox-check"></span>
                                        </label>
                                        <label for="agree"> مشکی</label>
                                        <span class="color_pro_sel" style=" background-color: black;"></span>
                                    </div>

                                    <div class="form-account-agree">
                                        <label class="checkbox-form checkbox-primary">
                                            <input type="checkbox" id="agree" name="color" value="طلایی">
                                            <span class="checkbox-check"></span>
                                        </label>
                                        <label for="agree"> طلایی</label>
                                        <span class="color_pro_sel" style=" background-color: gold;"></span>
                                    </div>

                                    <div class="form-account-agree">
                                        <label class="checkbox-form checkbox-primary">
                                            <input type="checkbox" id="agree" name="color" value="خاکستری">
                                            <span class="checkbox-check"></span>
                                        </label>
                                        <label for="agree"> خاکستری</label>
                                        <span class="color_pro_sel" style=" background-color: gray;"></span>
                                    </div>

                                    <div class="form-account-agree">
                                        <label class="checkbox-form checkbox-primary">
                                            <input type="checkbox" id="agree" name="color" value="قرمز">
                                            <span class="checkbox-check"></span>
                                        </label>
                                        <label for="agree"> قرمز</label>
                                        <span class="color_pro_sel" style=" background-color: red;"></span>

                                    </div>
                                    <div class="form-account-agree">
                                        <label class="checkbox-form checkbox-primary">
                                            <input type="checkbox" id="agree" name="color" value="زرد">
                                            <span class="checkbox-check"></span>
                                        </label>
                                        <label for="agree"> زرد</label>
                                        <span class="color_pro_sel" style=" background-color: yellow;"></span>

                                    </div>
                                    <div class="form-account-agree">
                                        <label class="checkbox-form checkbox-primary">
                                            <input type="checkbox" id="agree" name="color" value="آبی">
                                            <span class="checkbox-check"></span>
                                        </label>
                                        <label for="agree"> آبی</label>
                                        <span class="color_pro_sel" style=" background-color: blue;"></span> 

                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    
                    
                    
                        <div class="box ">

                            <header class="card-header">
                                <h3 class="card-title"><span class="space-right-10">قیمت</span></h3>
                            </header>
                             <div class="box-content space-40 space-right-25 space-left-25">
                                 
                                 <div class="form-account-agree">
                                     <label for="gte"> از</label>
                                        <input type="number" name="price-gte" id="gte" placeholder="100">
                                     تومان
                                    </div>
                                 
                                 <div class="form-account-agree">
                                        <label for="lte"> تا</label>
                                    <input type="number" name="price-lte" id="lte" placeholder="200">
                                     تومان
                                    </div>
                                 
                                </div>
                            </div>
                        <div class="box">
                            <header class="card-header">
                                <h3 class="card-title"><span class="space-right-10">لیست برند ها</span></h3>
                            </header>
                            <div class="box-content">
                                <div class="collapse show" >
                                   {% for brand in brands %}
                                        <div class="form-account-agree">
                                            <label class="checkbox-form checkbox-primary">
                                                <input type="checkbox" id="agree" name='brand' value="{{ brand}}">
                                                <span class="checkbox-check"></span>
                                            </label>
                                            <label for="agree">{{ brand }}</label>
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        <div class="d-grid">
                            <button type="submit" class="btn btn-success btn-transition mb-3">اعمال
                                فیلتر</button>
                            <a href="{% url 'p_objects:search' %}"
                                class="btn btn-danger btn-transition mb-3">حذف فیلتر ها</a>
                        </div>




                    </form>


                    </aside>
                    <div class="col-12 col-sm-12 col-md-8 col-lg-9">
                            <div class="tab-content default text-center">
                                <div class="tab-pane active" id="suggestion" role="tabpanel" aria-expanded="true">
                                        <div class="row listing-items">

                                        

                                            {% for p_object in product_objects %}

                                            <div class="col-xl-4 col-lg-4 col-md-6 col-12 list_search_p ">
                                                <div class="product-box">
                                                    <div class="product-seller-details product-seller-details-item-grid">
                                                        <span class="search_prod_icon">
                                                            <i class="fa fa-search search_icon_search" aria-hidden="true"></i>
                                                            <a href="{% url 'p_objects:wishlist' p_object.id %}"><i class="fa fa-heart search_icon_like" aria-hidden="true"></i></a>
                                                        </span>
                                                    </div>
                                                    <a class="product-box-img" href="{% url 'p_objects:detail' p_object.pk %}">
                                                        <img src="{{ p_object.product.image.url }}" alt="">
                                                        <ul>
{#                                                            <li class="color_pro" style="background-color: black;top: 7px;"></li>#}
                                                        </ul>
                                                    </a>
                                                    <div class="product-box-content">
                                                        <div class="product-box-content-row">
                                                            <div class="product_title">
                                                                <a href="{% url 'p_objects:detail' p_object.pk %}">
                                                                    {{ p_object.product.title }}
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="product-box-row product_price_search">
                                                            <div class="price">
                                                                {% if p_object.discount %}
                                                                <del><span> {{ p_object.price }} <span> تومان </span></span></del>
                                                                <span class="discount_badge">{{ p_object.discount }}%</span>
                                                                <ins><span> {{ p_object.discount_price }} <span>تومان</span></span></ins>
                                                                {% else %}
                                                                <ins><span>  {{ p_object.price }}   <span>  تومان  </span></span></ins>
                                                                {% endif %}


                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            {% endfor %}
                                        </div>
                                </div>
                                <div class="tab-pane" id="price" role="tabpanel" aria-expanded="false">
                                    <div class="row listing-items">
                                        <div class="col-xl-4 col-lg-4 col-md-6 col-12 list_search_p ">
                                            <div class="product-box">
                                                <div class="product-seller-details product-seller-details-item-grid">
                                                    <span class="search_prod_icon">
                                                        <i class="fa fa-search search_icon_search" aria-hidden="true"></i>
                                                        <i class="fa fa-heart search_icon_like" aria-hidden="true"></i>
                                                    </span>


                                                    <span class="search_prod_btn">
                                                        <i class="fa fa fa-cart-arrow-down search_icon_cart" aria-hidden="true"></i>
                                                    </span>
                                                </div>
                                                <a class="product-box-img" href="single-product.html">
                                                    <img src="assets/img/product_img/p_22.jpg" alt="">
                                                    <ul>
                                                        <li class="color_pro" style="background-color: #ff0075;top: 7px;"></li>
                                                        <li class="color_pro" style="background-color: #1aea44;top: 20px;"></li>
                                                        <li class="color_pro" style="background-color: #70367c;top: 33px;"></li>
                                                    </ul>
                                                </a>
                                                <div class="product-box-content">
                                                    <div class="product-box-content-row">
                                                        <div class="product_title">
                                                            <a href="#">
                                                                آیفون 12 پرو مکس اپل
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <div class="product-box-row product_price_search">
                                                        <div class="price">
                                                            <del><span>65,156,000<span>تومان</span></span></del>
                                                            <span class="discount_badge">10%</span>
                                                            <ins><span>62,200,000<span>تومان</span></span></ins>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- -->





<!--paginations-->
{% if is_paginated %}

<div class="row">
  <div class="col-lg-12">
    <ul class="pagination">

      {% if page_obj.has_next %}
      <li class="page-item">
        <a class="page-link" href="?page={{ page_obj.next_page_number }}">
          <i class="fas fa-long-arrow-alt-right"></i></a>
      </li>
      {% endif %}

      <li class="page-item"><a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">
        {{ page_obj.paginator.num_pages }}</a></li>

      <li class="page-item">صفحه {{ page_obj.number }} از {{ page_obj.paginator.num_pages }}</li>

      <li class="page-item"><a class="page-link" href="?page=1">1</a></li>

      {% if page_obj.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?page={{ page_obj.previous_page_number }}">
          <i class="fas fa-long-arrow-alt-left"></i>
        </a>
      </li>
      {% endif %}

    </ul>
  </div>
</div>
</div>
</div>
</div>
</section>

{% endif %}






                        </div>
                    </div>
                </div>
            </div>
        </main>

{% endblock %}

